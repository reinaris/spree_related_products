<% if product.relations.any? %>
  <table class="table js-sortable" data-hook="products_table" data-sortable-link="<%= update_positions_admin_product_relations_url(@product) %>">
    <thead>
      <tr data-hook="products_header">
        <th></th>
        <th colspan="2"><%= Spree.t(:product) %></th>
        <th><%= Spree.t(:type) %></th>
        <th class="actions"></th>
      </tr>
    </thead>
    <tbody>
      <% product.relations.each do |relation| %>
        <tr id="<%= spree_dom_id relation %>" data-hook="products_row">
          <td>
            <span class="icon icon-move js-sort-handle"></span>
          </td>
          <td class="image"><%= mini_image relation.related_to %></td>
          <td><%= link_to relation.related_to.name, relation.related_to %></td>
          <td><%= relation.relation_type.name %></td>
          <td class="actions">
            <%= link_to_with_icon 'delete', Spree.t('delete'), admin_product_relation_url(relation.relatable, relation), method: :delete, class: 'delete-line-item btn btn-danger btn-sm', title: Spree.t('delete'), no_text: true %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <div class="alert alert-info no-objects-found">
    <%= Spree.t(:no_related_products_found) %>
  </div>
<% end %>
